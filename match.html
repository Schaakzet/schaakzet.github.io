<html>

<head>
  <title>RT SchaakZet Match</title>
  <script>
    // clear console so no-one gets confused by previous results
    console.clear();
  </script>
  <script src="./console.js"></script>
  <script src="./webcomponents/v18.js"></script>
  <script src="./webcomponents/chess-match.js"></script>

  <style>
    body {
      font: 16px Arial;
    }

    .chessMatchBoard {
      display: grid;
      grid-template-columns: 1fr 1fr;
    }
  </style>
</head>

<body>
  <chess-match></chess-match>
  <header>
    <h1>Schaakzet Match</h1>
    <chess-player-white></chess-player-white>
    versus
    <chess-player-black></chess-player-black>
    <span style="background:yellow">TODO: Delete Match from DB, undo last move</span>
  </header>
  <main>
    <label for="enterFEN">enter FEN:</label>
    <input id="fen" type="text" size="100" onkeyup="setFEN(this.value)"/>
    <button onclick="setFEN(fen.value)">Set FEN</button>
    <button onclick="setStart()">Start</button><br />

    <div class="chessMatchBoard">
      <chess-board id="schaak1" fen="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR" player="white"></chess-board>
      <chess-game-progress>CHESS PROGRESS</chess-game-progress>
    </div>
    <div id="message"></div>
  </main>
  <footer>

  </footer>
  <script>
    // make sure our dev code executes after all chess boards are 100% created
    window.addEventListener("load", () => {
      let chessboard = document.querySelector("chess-board");
      window.setFEN = (fenString) => chessboard.fen = fenString;
      let piece = chessboard.getPiece("e2");
      chessboard.movePiece(piece, "g7");
    });
  </script>
</body>

</html>