<html>

<head>
  <script src="./webcomponents/chess-rt-head.js"></script>
  <script src="./webcomponents/schaakzet.js"></script>
  <script src="./webcomponents/chess-match.js"></script>
</head>

<body>
  <chess-match></chess-match>
  <header>
    <h1-chess></h1-chess>
    <b>Games in database:</b>
    <chess-match-games></chess-match-games>
    <hr>
    <chess-player-white name="Player1"></chess-player-white>
    versus
    <chess-player-black></chess-player-black>
    <br>
    <span style="background:yellow">TODO: Use player names for database ID, Delete Matches from DB, undo last chessboard move</span>
  </header>
  <main>
    <button onclick="setStart()">Start</button><br />
    <!-- <chess-board-action event="deleteMatchData">Delete Match</chess-board-action> -->

    <chess-game>
      <chess-board id="matchboard"  fen="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR" player="white" labels></chess-board>
      <chess-game-progress></chess-game-progress>
    </chess-game>
    <div id="message"></div>
  </main>
  <footer>

  </footer>
  <script>
    // make sure our dev code executes after all chess boards are 100% created
    window.addEventListener("load", () => {
      let chessboard = document.querySelector("chess-board");
      window.setFEN = (fenString) => chessboard.fen = fenString;
      let piece = chessboard.getPiece("e2");
      //chessboard.documentation();
      //chessboard.movePiece(piece, "g7");
      chessboard.play([["e2", "e4"], ["e7", "e5"], ["g1", "f3"], ["b8", "c6"]]);
    });
  </script>
</body>

</html>